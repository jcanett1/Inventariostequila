<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Stock - PXG TEQUILA</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"  rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
    <div class="container">
      <a class="navbar-brand" href="index.html">Inventarios PXG Tequila</a>
      <a class="btn btn-outline-light" href="index.html">Volver</a>
    </div>
  </nav>

  <div class="container my-4">
    <h2 class="mb-4">Inventario Actual</h2>

    <div class="row">
      <div class="col-md-12 mb-4">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            Inventario Actual
            <div>
              <button class="btn btn-sm btn-outline-primary me-2">Exportar PDF</button>
              <button class="btn btn-sm btn-outline-success">Exportar Excel</button>
            </div>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover align-middle">
                <thead>
                  <tr>
                    <th>Producto</th>
                    <th>Categoría</th>
                    <th>Cantidad</th>
                    <th>Precio Unitario</th>
                    <th>Valor Total</th>
                    <th>Estado</th>
                  </tr>
                </thead>
                <tbody id="stockTableBody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-header">Inventario por Categoría</div>
          <div class="card-body chart-container">
            <canvas id="stockByCategory"></canvas>
          </div>
        </div>
      </div>

      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            Movimientos de Inventario
            <select class="form-select form-select-sm" id="periodoMovimientos" style="width: 150px;">
              <option value="7">Últimos 7 días</option>
              <option value="30" selected>Últimos 30 días</option>
              <option value="90">Últimos 3 meses</option>
            </select>
          </div>
          <div class="card-body chart-container">
            <canvas id="stockMovements"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header">Productos con Bajo Stock</div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover align-middle">
                <thead>
                  <tr>
                    <th>Producto</th>
                    <th>Categoría</th>
                    <th>Stock Actual</th>
                    <th>Stock Mínimo</th>
                    <th>Acción</th>
                  </tr>
                </thead>
                <tbody id="bajoStockTableBody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script> 
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script> 
  <link rel="stylesheet" href="css/style.css">
<script type="module" src="jss/supabaseClient.js"></script>
<script type="module" src="jss/productController.js"></script>
<script type="module" src="jss/supplierController.js"></script>
<script type="module" src="jss/movementController.js"></script>
<script type="module" src="jss/chartController.js"></script>
<script type="module" src="jss/uiController.js"></script>
<script type="module" src="jss/app.js"></script>
<script type="module" src="jss/main.js"></script> 
</body>
</html>
